(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{310:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("BOM")]),t._v(" "),s("h2",{attrs:{id:"window对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#window对象"}},[t._v("#")]),t._v(" window对象")]),t._v(" "),s("p",[t._v("BOM 的核心是 window 对象，表示浏览器的实例。window 对象在浏览器中有两重身份，一个是")]),t._v(" "),s("p",[t._v("ECMAScript 中的 Global 对象，另一个就是浏览器窗口的 JavaScript 接口。这意味着网页中定义的所有")]),t._v(" "),s("p",[t._v("对象、变量和函数都以 window 作为其 Global 对象，都可以访问其上定义的 parseInt()等全局方法")]),t._v(" "),s("h3",{attrs:{id:"窗口关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#窗口关系"}},[t._v("#")]),t._v(" 窗口关系")]),t._v(" "),s("p",[t._v("window.parent, window.top, window.self的定义以及关系")]),t._v(" "),s("p",[s("strong",[t._v("这里的多个窗口是指嵌套窗口iframe")])]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("top对象始终指向最外层窗口，及浏览器窗口本身")])]),t._v(" "),s("li",[s("strong",[t._v("parent始终指向当前窗口的父级窗口")]),t._v("，如果当前窗口就是最外层窗口，则parent === top（均为window）")]),t._v(" "),s("li",[t._v("self其实就是window本身")])]),t._v(" "),s("blockquote",[s("p",[t._v("注意和window.opener的区别，window.opener返回打开当前窗口的那个窗口的引用，例如：在 window A 中打开了 window B，B.opener 返回 A.")])]),t._v(" "),s("h3",{attrs:{id:"窗口大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#窗口大小"}},[t._v("#")]),t._v(" 窗口大小")]),t._v(" "),s("p",[t._v("所有现代浏览器都支持 4 个属性：")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("innerWidth和 innerHeight 返回浏览器窗口中页面视口的大小（包含侧边滚动条）")])])]),t._v(" "),s("li",[s("p",[t._v("outerWidth 和 outerHeight 返回浏览器窗口自身的大小（"),s("strong",[t._v("不管是在最外层 window 上使用，还是在窗格"),s("frame"),t._v("中使用")],1),t._v("，一定是大于等于inner的，不常用）。")])])]),t._v(" "),s("p",[s("strong",[t._v("此外，document.documentElement.clientWidth 和 document.documentElement.clientHeight也可以返回页面视口的宽度和高度（但是不包括滚动条）")])]),t._v(" "),s("h3",{attrs:{id:"视口位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视口位置"}},[t._v("#")]),t._v(" 视口位置")]),t._v(" "),s("p",[s("strong",[t._v("浏览器窗口尺寸通常无法满足完整显示整个页面")]),t._v("，为此用户"),s("strong",[t._v("可以通过滚动")]),t._v("在有限的视口中查看文档。")]),t._v(" "),s("p",[s("strong",[t._v("度量文档相对于视口滚动距离的属性有两对，返回相等的值")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("window.pageXoffset/window. scrollX")]),t._v(" "),s("li",[t._v("window.pageYoffset/window.scrollY。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/image-20231024135819200.png",alt:"image-20231024135819200"}})]),t._v(" "),s("p",[t._v("可以使用 scroll()、scrollTo()和 scrollBy()方法"),s("strong",[t._v("滚动")])]),t._v(" "),s("p",[s("strong",[t._v("语法")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("coord"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("coord"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/scrollBy#options",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("options")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("包含以下参数的字典")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/scrollBy#top",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("top")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("指定沿 Y 轴滚动窗口或元素的像素数。")])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/scrollBy#left",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("left")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("指定沿 X 轴滚动窗口或元素的像素数。")])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/scrollBy#behavior",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("behavior")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("指定滚动是否应该平滑（"),s("code",[t._v("smooth")]),t._v("）、瞬时运动到该位置（"),s("code",[t._v("instant")]),t._v("）、或者让浏览器选择（"),s("code",[t._v("auto")]),t._v("，默认）。")])])]),t._v(" "),s("p",[s("strong",[t._v("示例")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 让元素滚动")]),t._v("\nelement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nelement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("top")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("left")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("behavior")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'smooth'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("区别")]),t._v("："),s("strong",[t._v("scroll(), scrollTo()是绝对滚动， scrollBy()是相对滚动")])]),t._v(" "),s("p",[s("strong",[t._v("可以在容器上用也可以在window上用")])]),t._v(" "),s("h3",{attrs:{id:"window-open"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#window-open"}},[t._v("#")]),t._v(" window.open")]),t._v(" "),s("p",[t._v("是用指定的名称将指定的资源加载到新的或已存在的浏览上下文（标签、窗口或 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/iframe",target:"_blank",rel:"noopener noreferrer"}},[t._v("iframe"),s("OutboundLink")],1),t._v("）中。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" windowFeatures"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),s("p",[t._v("主要功能就是打开一个新的窗口，第二个参数可以指定名称（如果已经有该名称的窗口则直接打开而不是创建新的），第三个参数是一些配置这些特性包括窗口的默认大小和位置、是否打开最小弹出窗口等选项。")]),t._v(" "),s("p",[t._v("详情见"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/open",target:"_blank",rel:"noopener noreferrer"}},[t._v("Window：open() 方法 - Web API 接口参考 | MDN (mozilla.org)"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"location对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#location对象"}},[t._v("#")]),t._v(" location对象")]),t._v(" "),s("p",[t._v("其中包含有关文档当前位置的信息")]),t._v(" "),s("p",[t._v("重点属性如下")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/image-20231024164958794.png",alt:"image-20231024164958794"}})]),t._v(" "),s("p",[t._v("通过更改location.href也能够改边当前页面的url")]),t._v(" "),s("p",[t._v("location.serach返回URL的查询字符串，qs库是一个常用的处理查询字符串的库")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" qs "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析查询字符串")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" queryObj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" qs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=zhang&age=18"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出{name: 'zhangsan', age: '18'}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 转化obj为查询字符串")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" queryString "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" qs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 输出"name=zhangsan&age=18"')]),t._v("\n\n")])])]),s("h3",{attrs:{id:"navigator对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#navigator对象"}},[t._v("#")]),t._v(" navigator对象")]),t._v(" "),s("p",[s("code",[t._v("navigator")]),t._v(" 对象在前端开发中经常用于获取有关客户端浏览器和操作系统的信息，以便执行相应的操作或调整用户体验。以下是 "),s("code",[t._v("navigator")]),t._v(" 对象在前端中常用的一些功能：")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("浏览器信息")]),t._v(":\n"),s("ul",[s("li",[t._v("获取浏览器的名称和版本信息，以便进行浏览器特定的代码处理。")]),t._v(" "),s("li",[t._v("例如："),s("code",[t._v("navigator.userAgent")]),t._v(" 可用于检测浏览器。")])])]),t._v(" "),s("li",[s("strong",[t._v("浏览器支持的功能检测")]),t._v(":\n"),s("ul",[s("li",[t._v("检查浏览器是否支持某些特定的功能或API，以便进行特性检测。")]),t._v(" "),s("li",[t._v("例如："),s("code",[t._v("navigator.geolocation")]),t._v(" 用于检测浏览器是否支持地理位置服务。。")])])]),t._v(" "),s("li",[s("strong",[t._v("语言和地区信息")]),t._v(":\n"),s("ul",[s("li",[t._v("获取用户的浏览器首选语言和地区设置，以本地化页面内容。")]),t._v(" "),s("li",[t._v("例如："),s("code",[t._v("navigator.language")]),t._v("。")])])]),t._v(" "),s("li",[s("strong",[t._v("Cookie 启用检测")]),t._v(":\n"),s("ul",[s("li",[t._v("检查浏览器是否启用了 cookie，以确保可跟踪用户的会话状态。")]),t._v(" "),s("li",[t._v("例如："),s("code",[t._v("navigator.cookieEnabled")]),t._v("。")])])]),t._v(" "),s("li",[s("strong",[t._v("离线检测")]),t._v(":\n"),s("ul",[s("li",[t._v("通过 "),s("code",[t._v("navigator.onLine")]),t._v(" 属性检测客户端的在线/离线状态。")]),t._v(" "),s("li",[t._v("这对于处理离线应用程序和同步数据非常有用。")])])]),t._v(" "),s("li",[s("strong",[t._v("插件检测")]),t._v(":\n"),s("ul",[s("li",[t._v("通过 "),s("code",[t._v("navigator.plugins")]),t._v(" 属性检测已安装的浏览器插件，以提供相关的功能或提示。")]),t._v(" "),s("li",[t._v("例如：检测 Flash 插件。")])])]),t._v(" "),s("li",[s("strong",[t._v("媒体设备访问")]),t._v(":\n"),s("ul",[s("li",[s("code",[t._v("navigator")]),t._v(" 提供了访问媒体设备（例如摄像头和麦克风）的接口，以便创建多媒体应用程序。")])])])]),t._v(" "),s("p",[t._v("这些是 "),s("code",[t._v("navigator")]),t._v(" 对象的一些常见用途，但还有更多属性和方法可用于获取有关客户端环境的信息，以便根据需要调整网站或应用程序的行为。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/image-20231024172506274.png",alt:"image-20231024172506274"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/image-20231024172549067.png",alt:"image-20231024172549067"}})]),t._v(" "),s("h3",{attrs:{id:"screen对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#screen对象"}},[t._v("#")]),t._v(" screen对象")]),t._v(" "),s("p",[t._v("用的很少，主要是关于屏幕的信息")]),t._v(" "),s("h3",{attrs:{id:"history对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#history对象"}},[t._v("#")]),t._v(" history对象")]),t._v(" "),s("p",[t._v("history 对象表示当前窗口首次使用以来用户的导航历史记录。因为 history 是 window 的属性，")]),t._v(" "),s("p",[t._v("所以每个 window 都有自己的 history 对象。")]),t._v(" "),s("h4",{attrs:{id:"导航"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导航"}},[t._v("#")]),t._v(" 导航")]),t._v(" "),s("p",[t._v("history.go()方法实现页面的前进后退，负数代表后退如history.go(-1)表示后退一页；history.go(1)代表前进一页")]),t._v(" "),s("p",[t._v("此外，history.back()也代表后退一页，history.forward()代表前进一页")]),t._v(" "),s("h4",{attrs:{id:"历史状态管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#历史状态管理"}},[t._v("#")]),t._v(" 历史状态管理")]),t._v(" "),s("p",[s("strong",[t._v("在SPA应用中，我们改变了页面的URL而不触发刷新用的就是history.pushState();")])]),t._v(" "),s("p",[t._v("因为 pushState()会创建新的历史记录**，所以也会相应地启用“后退”按钮。此时单击“后退”**")]),t._v(" "),s("p",[s("strong",[t._v("按钮，就会触发 window 对象上的 popstate 事件")]),t._v("。popstate 事件的事件对象有一个 state 属性，其")]),t._v(" "),s("p",[t._v("中包含通过 pushState()第一个参数传入的 state 对象：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"popstate"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第一个页面加载时状态是 null ")]),t._v("\n \t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("processState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("history.state返回页面的state对象")]),t._v(" "),s("p",[t._v("在 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTML"),s("OutboundLink")],1),t._v(" 文档中，"),s("strong",[s("code",[t._v("history.pushState()")])]),t._v(" 方法向浏览器的会话历史栈增加了一个条目。")]),t._v(" "),s("p",[t._v("该方法是"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Asynchronous",target:"_blank",rel:"noopener noreferrer"}},[t._v("异步"),s("OutboundLink")],1),t._v("的。为 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Window/popstate_event",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("popstate")]),s("OutboundLink")],1),t._v(" 事件增加监听器，以确定导航何时完成。"),s("code",[t._v("state")]),t._v(" 参数将在其中可用")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第一个state是个对象，第二个是没用的一个变量设为空字符串即可，第三个就是url（绝对(同源)，相对都可以）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unused"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" unused"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("也可以使用 **replaceState()**并传入与pushState()同样的前两个参数来更新状态。"),s("strong",[t._v("此方法更新状态不会创建新历史记录，只会覆盖当前状态")]),t._v("：")]),t._v(" "),s("p",[s("strong",[t._v("react-router库就是基于此来实现的")])]),t._v(" "),s("blockquote",[s("p",[t._v("要确保通过 pushState()创建的每个“假”URL 背后")]),t._v(" "),s("p",[t._v("都对应着服务器上一个真实的物理 URL。否则，单击“刷新”按钮会导致 404 错误。所有")]),t._v(" "),s("p",[t._v("单页应用程序（SPA，Single Page Application）框架都必须通过服务器或客户端的某些配")]),t._v(" "),s("p",[t._v("置解决这个问题。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);