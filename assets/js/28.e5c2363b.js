(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{311:function(t,a,s){"use strict";s.r(a);var n=s(10),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"dom树"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom树"}},[t._v("#")]),t._v(" DOM树")]),t._v(" "),a("p",[t._v("根据文档对象模型，每个HTML标签都是一个对象，标签内的文本也是一个对象")]),t._v(" "),a("p",[t._v("这些对象包含很多属性")]),t._v(" "),a("ul",[a("li",[t._v("innerHTML -节点的HTML内容")]),t._v(" "),a("li",[t._v("offsetWidth-节点的宽度")]),t._v(" "),a("li",[t._v("...等等")])]),t._v(" "),a("h2",{attrs:{id:"dom例子"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom例子"}},[t._v("#")]),t._v(" DOM例子")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("HTML")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("About elk"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        The truth about elk\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("DOM将HTML表示为标签的树形结构，看起来如下所示")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220615155235396.png",alt:"image-20220615155235396"}})]),t._v(" "),a("p",[a("strong",[t._v("标签被称为元素节点")]),t._v("，并形成了树形结构，html是根节点，head和body是其子项")]),t._v(" "),a("p",[a("strong",[t._v("元素内的文本形成文本节点")]),t._v("，被标记为"),a("code",[t._v("#text")]),t._v(",一个文本节点只包含一个字符串，并且它一定是叶子")]),t._v(" "),a("p",[t._v("请注意文本节点中的特殊字符：")]),t._v(" "),a("ul",[a("li",[t._v("换行符："),a("code",[t._v("↵")]),t._v("（在 JavaScript 中为 "),a("code",[t._v("\\n")]),t._v("）")]),t._v(" "),a("li",[t._v("空格："),a("code",[t._v("␣")])])]),t._v(" "),a("h2",{attrs:{id:"表格永远有tbody"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表格永远有tbody"}},[t._v("#")]),t._v(" "),a("strong",[t._v("表格永远有tbody")])]),t._v(" "),a("p",[t._v("表格是一个有趣的“特殊的例子”。按照 DOM 规范，它们必须具有 "),a("code",[t._v("<tbody>")]),t._v(" 标签，但 HTML 文本可能会忽略它。然后浏览器在创建 DOM 时，自动地创建了 "),a("code",[t._v("<tbody>")]),t._v("。")]),t._v(" "),a("p",[t._v("对于 HTML：")]),t._v(" "),a("div",{staticClass:"language-markup extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markup"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220615160420921.png",alt:"image-20220615160420921"}})]),t._v(" "),a("h2",{attrs:{id:"其他节点类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他节点类型"}},[t._v("#")]),t._v(" 其他节点类型")]),t._v(" "),a("p",[t._v("除了元素节点和文本节点，还有其他类型的节点")]),t._v(" "),a("p",[t._v("例如，"),a("strong",[t._v("注释节点")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("HTML")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  The truth about elk.\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("An elk is a smart"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- comment --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("...and cunning animal!"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220615161129960.png",alt:"image-20220615161129960"}})]),t._v(" "),a("p",[t._v("在这里我们可以看到一个新的树节点类型 — "),a("em",[t._v("comment node")]),t._v("，被标记为 "),a("code",[t._v("#comment")]),t._v("，它在两个文本节点之间。")]),t._v(" "),a("p",[t._v("我们可能会想 — 为什么要将注释添加到 DOM 中？它不会对视觉展现产生任何影响吗。但是有一条规则 — 如果一些内容存在于 HTML 中，那么它也必须在 DOM 树中。")]),t._v(" "),a("p",[a("strong",[t._v("HTML 中的所有内容，甚至注释，都会成为 DOM 的一部分。")])]),t._v(" "),a("p",[t._v("甚至 HTML 开头的 "),a("code",[t._v("<!DOCTYPE...>")]),t._v(" 指令也是一个 DOM 节点。它在 DOM 树中位于 "),a("code",[t._v("<html>")]),t._v(" 之前。很少有人知道这一点。我们不会触及那个节点，我们甚至不会在图表中绘制它，但它确实就在那里。")]),t._v(" "),a("p",[t._v("表示整个文档的 "),a("code",[t._v("document")]),t._v(" 对象，在形式上也是一个 DOM 节点。")]),t._v(" "),a("p",[t._v("一共有 "),a("a",{attrs:{href:"https://dom.spec.whatwg.org/#node",target:"_blank",rel:"noopener noreferrer"}},[t._v("12 种节点类型"),a("OutboundLink")],1),t._v("。实际上，我们通常用到的是其中的 4 种：")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("document")]),t._v(" — DOM 的“入口点”。")]),t._v(" "),a("li",[t._v("元素节点 — HTML 标签，树构建块。")]),t._v(" "),a("li",[t._v("文本节点 — 包含文本。")]),t._v(" "),a("li",[t._v("注释 — 有时我们可以将一些信息放入其中，它不会显示，但 JS 可以从 DOM 中读取它。")])]),t._v(" "),a("h1",{attrs:{id:"遍历dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遍历dom"}},[t._v("#")]),t._v(" 遍历DOM")]),t._v(" "),a("p",[t._v("DOM允许我们对元素和它们中的任何内容操作，首先需要获取对应的DOM对象")]),t._v(" "),a("p",[a("strong",[t._v("对 DOM 的所有操作都是以 "),a("code",[t._v("document")]),t._v(" 对象开始。它是 DOM 的主“入口点”。从它我们可以访问任何节点")]),t._v("。")]),t._v(" "),a("p",[t._v("这里是一张描述对象间链接的图片，通过这些链接我们可以在 DOM 节点之间移动。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220615161632269.png",alt:"image-20220615161632269"}})]),t._v(" "),a("h2",{attrs:{id:"documentelement和body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#documentelement和body"}},[t._v("#")]),t._v(" documentElement和body")]),t._v(" "),a("p",[t._v("最顶层的这两个节点，可以直接通过document的属性来使用")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<html>` = `document.documentElement\n")])])]),a("p",[t._v("最顶层的 document 节点是 "),a("code",[t._v("document.documentElement")]),t._v("。这是对应 "),a("code",[t._v("<html>")]),t._v(" 标签的 DOM 节点。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<body>` = `document.body\n")])])]),a("p",[t._v("另一个被广泛使用的 DOM 节点是 "),a("code",[t._v("<body>")]),t._v(" 元素 — "),a("code",[t._v("document.body")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<head>` = `document.head\n")])])]),a("p",[a("code",[t._v("<head>")]),t._v(" 标签可以通过 "),a("code",[t._v("document.head")]),t._v(" 访问。")]),t._v(" "),a("p",[a("strong",[t._v("这里有个问题："),a("code",[t._v("document.body")]),t._v(" 的值可能是 "),a("code",[t._v("null")])])]),t._v(" "),a("p",[a("strong",[t._v("脚本无法访问在运行时不存在的元素")]),t._v("。")]),t._v(" "),a("p",[t._v("尤其是，如果一个脚本是在 "),a("code",[t._v("<head>")]),t._v(" 中，那么脚本是访问不到 "),a("code",[t._v("document.body")]),t._v(" 元素的，因为浏览器还没有读到它。")]),t._v(" "),a("p",[a("strong",[t._v("在 DOM 的世界中，"),a("code",[t._v("null")]),t._v(" 就意味着“不存在”")])]),t._v(" "),a("p",[t._v("在 DOM 中，"),a("code",[t._v("null")]),t._v(" 值就意味着“不存在”或者“没有这个节点”。")]),t._v(" "),a("h2",{attrs:{id:"子节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子节点"}},[t._v("#")]),t._v(" 子节点")]),t._v(" "),a("p",[a("strong",[t._v("childNodes集合列出了所有子节点，包括文本节点")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Begin"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Information"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("End"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Text, DIV, Text, UL, ..., SCRIPT")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  ...more stuff...\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[a("strong",[t._v("请注意这里的一个有趣的细节。如果我们运行上面这个例子，所显示的最后一个元素是 "),a("code",[t._v("<script>")]),t._v("。"),a("strong",[t._v("实际上，文档下面还有很多东西，但是")]),t._v("在这个脚本运行的时候，浏览器还没有读到下面的内容，所以这个脚本也就看不到它们。")])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("firstChild")]),t._v(" 和 "),a("code",[t._v("lastChild")]),t._v(" 属性是访问第一个和最后一个子元素的快捷方式。")])]),t._v(" "),a("p",[t._v("它们只是简写。如果元素存在子节点，那么下面的脚本运行结果将是 true：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild\nelem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastChild\n")])])]),a("p",[t._v("这里还有一个特别的函数 "),a("code",[t._v("elem.hasChildNodes()")]),t._v(" 用于检查节点是否有子节点。")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("DOM 集合是只读的")])]),t._v(" "),a("p",[t._v("DOM 集合，甚至可以说本章中列出的 "),a("strong",[t._v("所有")]),t._v(" 导航（navigation）属性都是只读的。")]),t._v(" "),a("p",[t._v("我们不能通过类似 "),a("code",[t._v("childNodes[i] = ...")]),t._v(" 的操作来替换一个子节点。")])]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("DOM 集合是实时的")])]),t._v(" "),a("p",[t._v("除小部分例外，几乎所有的 DOM 集合都是 "),a("strong",[t._v("实时")]),t._v(" 的。换句话说，它们反映了 DOM 的当前状态。")]),t._v(" "),a("p",[t._v("如果我们保留一个对 "),a("code",[t._v("elem.childNodes")]),t._v(" 的引用，然后向 DOM 中添加/移除节点，那么这些节点的更新会自动出现在集合中。")])]),t._v(" "),a("h2",{attrs:{id:"父节点和兄弟节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#父节点和兄弟节点"}},[t._v("#")]),t._v(" 父节点和兄弟节点")]),t._v(" "),a("p",[t._v("下一个兄弟节点在 "),a("code",[t._v("nextSibling")]),t._v(" 属性中，上一个是在 "),a("code",[t._v("previousSibling")]),t._v(" 属性中。")]),t._v(" "),a("p",[t._v("可以通过 "),a("code",[t._v("parentNode")]),t._v(" 来访问父节点。")]),t._v(" "),a("h2",{attrs:{id:"纯元素导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#纯元素导航"}},[t._v("#")]),t._v(" 纯元素导航")]),t._v(" "),a("p",[t._v("上面列出的导航（navigation）属性引用 "),a("strong",[t._v("所有")]),t._v(" 节点。例如，在 "),a("code",[t._v("childNodes")]),t._v(" 中我们可以看到文本节点，元素节点，甚至包括注释节点（如果它们存在的话）。")]),t._v(" "),a("p",[t._v("但是对于很多任务来说，我们并不想要文本节点或注释节点。我们希望操纵的是代表标签的和形成页面结构的元素节点。")]),t._v(" "),a("p",[t._v("所以，让我们看看更多只考虑 "),a("strong",[t._v("元素节点")]),t._v(" 的导航链接（navigation link）：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220615162636919.png",alt:"image-20220615162636919"}})]),t._v(" "),a("p",[a("strong",[t._v("为什么是 "),a("code",[t._v("parentElement")]),t._v("? 父节点可以不是一个元素吗？")])]),t._v(" "),a("p",[a("code",[t._v("parentElement")]),t._v(" 属性返回的是“元素类型”的父节点，而 "),a("code",[t._v("parentNode")]),t._v(" 返回的是“任何类型”的父节点。这些属性通常来说是一样的：它们都是用于获取父节点。")]),t._v(" "),a("p",[t._v("唯一的例外就是 "),a("code",[t._v("document.documentElement")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentNode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// document")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parentElement "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// null")]),t._v("\n")])])]),a("h2",{attrs:{id:"表格的导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表格的导航"}},[t._v("#")]),t._v(" 表格的导航")]),t._v(" "),a("p",[t._v("到现在，我们已经描述了基本的导航（navigation）属性。")]),t._v(" "),a("p",[t._v("方便起见，某些类型的 DOM 元素可能会提供特定于其类型的其他属性。")]),t._v(" "),a("p",[t._v("表格（Table）是一个很好的例子，它代表了一个特别重要的情况：")]),t._v(" "),a("p",[t._v("table 元素支持 (除了上面给出的，之外) 以下这些属性:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("table.rows")]),t._v(" — "),a("code",[t._v("<tr>")]),t._v(" 元素的集合。")]),t._v(" "),a("li",[a("code",[t._v("table.caption/tHead/tFoot")]),t._v(" — 引用元素 "),a("code",[t._v("<caption>")]),t._v("，"),a("code",[t._v("<thead>")]),t._v("，"),a("code",[t._v("<tfoot>")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("table.tBodies")]),t._v(" — "),a("code",[t._v("<tbody>")]),t._v(" 元素的集合（根据标准还有很多元素，但是这里至少会有一个 — 即使没有被写在 HTML 源文件中，浏览器也会将其放入 DOM 中）。")])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("<thead>")]),t._v("，"),a("code",[t._v("<tfoot>")]),t._v("，"),a("code",[t._v("<tbody>")])]),t._v(" 元素提供了 "),a("code",[t._v("rows")]),t._v(" 属性：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("tbody.rows")]),t._v(" — 表格内部 "),a("code",[t._v("<tr>")]),t._v(" 元素的集合。")])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("<tr>")]),t._v("：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("tr.cells")]),t._v(" — 在给定 "),a("code",[t._v("<tr>")]),t._v(" 中的 "),a("code",[t._v("<td>")]),t._v(" 和 "),a("code",[t._v("<th>")]),t._v(" 单元格的集合。")]),t._v(" "),a("li",[a("code",[t._v("tr.sectionRowIndex")]),t._v(" — 给定的 "),a("code",[t._v("<tr>")]),t._v(" 在封闭的 "),a("code",[t._v("<thead>/<tbody>/<tfoot>")]),t._v(" 中的位置（索引）。")]),t._v(" "),a("li",[a("code",[t._v("tr.rowIndex")]),t._v(" — 在整个表格中 "),a("code",[t._v("<tr>")]),t._v(" 的编号（包括表格的所有行）。")])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("<td>")]),t._v(" 和 "),a("code",[t._v("<th>")]),t._v("：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("td.cellIndex")]),t._v(" — 在封闭的 "),a("code",[t._v("<tr>")]),t._v(" 中单元格的编号。")])]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("table")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("one"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("two"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("three"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("four"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("td")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("tr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 获取带有 "two" 的 td（第一行，第二列）')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" td "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cells"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  td"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"red"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// highlight it")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://zh.javascript.info/dom-navigation#zong-jie",target:"_blank",rel:"noopener noreferrer"}},[t._v("总结"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("给定一个 DOM 节点，我们可以使用导航（navigation）属性访问其直接的邻居。")]),t._v(" "),a("p",[t._v("这些属性主要分为两组：")]),t._v(" "),a("ul",[a("li",[t._v("对于所有节点："),a("code",[t._v("parentNode")]),t._v("，"),a("code",[t._v("childNodes")]),t._v("，"),a("code",[t._v("firstChild")]),t._v("，"),a("code",[t._v("lastChild")]),t._v("，"),a("code",[t._v("previousSibling")]),t._v("，"),a("code",[t._v("nextSibling")]),t._v("。")]),t._v(" "),a("li",[t._v("仅对于元素节点："),a("code",[t._v("parentElement")]),t._v("，"),a("code",[t._v("children")]),t._v("，"),a("code",[t._v("firstElementChild")]),t._v("，"),a("code",[t._v("lastElementChild")]),t._v("，"),a("code",[t._v("previousElementSibling")]),t._v("，"),a("code",[t._v("nextElementSibling")]),t._v("。")])]),t._v(" "),a("p",[t._v("某些类型的 DOM 元素，例如 table，提供了用于访问其内容的其他属性和集合。")]),t._v(" "),a("h1",{attrs:{id:"获取dom对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取dom对象"}},[t._v("#")]),t._v(" 获取DOM对象")]),t._v(" "),a("p",[t._v("当元素彼此靠得近时，DOM 导航属性（navigation property）非常有用。如果不是，那该怎么办？如何去获取页面上的任意元素？")]),t._v(" "),a("p",[t._v("还有其他搜索方法。")]),t._v(" "),a("h2",{attrs:{id:"getelementbyid"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getelementbyid"}},[t._v("#")]),t._v(" getElementById")]),t._v(" "),a("p",[t._v("如果一个元素有 "),a("code",[t._v("id")]),t._v(" 特性（attribute），那我们就可以使用 "),a("code",[t._v("document.getElementById(id)")]),t._v(" 方法获取该元素，无论它在哪里。")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("elem-content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Element"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取该元素")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" elem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'elem'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将该元素背景改为红色")]),t._v("\n  elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"queryselectorall"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryselectorall"}},[t._v("#")]),t._v(" querySelectorAll")]),t._v(" "),a("p",[t._v("到目前为止，最通用的方法是 "),a("code",[t._v("elem.querySelectorAll(css)")]),t._v("，它返回 "),a("code",[t._v("elem")]),t._v(" 中与给定 CSS 选择器匹配的"),a("strong",[t._v("所有元素")]),t._v("。")]),t._v(" "),a("p",[t._v("在这里，我们查找所有为最后一个子元素的 "),a("code",[t._v("<li>")]),t._v(" 元素：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("The"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("test"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("has"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("passed"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" elements "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelectorAll")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ul > li:last-child'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" elem "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" elements"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "test", "passed"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("这个方法确实功能强大，因为可以使用任何 CSS 选择器。")]),t._v(" "),a("p",[a("strong",[t._v("也可以使用伪类")])]),t._v(" "),a("p",[t._v("CSS 选择器的伪类，例如 "),a("code",[t._v(":hover")]),t._v(" 和 "),a("code",[t._v(":active")]),t._v(" 也都是被支持的。例如，"),a("code",[t._v("document.querySelectorAll(':hover')")]),t._v(" 将会返回鼠标指针正处于其上方的元素的集合（按嵌套顺序：从最外层 "),a("code",[t._v("<html>")]),t._v(" 到嵌套最多的元素）。")]),t._v(" "),a("h2",{attrs:{id:"queryselector"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryselector"}},[t._v("#")]),t._v(" querySelector")]),t._v(" "),a("p",[a("code",[t._v("elem.querySelector(css)")]),t._v(" 调用会"),a("strong",[t._v("返回给定 CSS 选择器的第一个元素")]),t._v("。")]),t._v(" "),a("p",[t._v("换句话说，结果与 "),a("code",[t._v("elem.querySelectorAll(css)[0]")]),t._v(" 相同，但是后者会查找 "),a("strong",[t._v("所有")]),t._v(" 元素，并从中选取一个，而 "),a("code",[t._v("elem.querySelector")]),t._v(" 只会查找一个。因此它在速度上更快，并且写起来更短。")]),t._v(" "),a("h2",{attrs:{id:"matches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#matches"}},[t._v("#")]),t._v(" matches")]),t._v(" "),a("p",[t._v("之前的方法是搜索 DOM。")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://dom.spec.whatwg.org/#dom-element-matches",target:"_blank",rel:"noopener noreferrer"}},[t._v("elem.matches(css)"),a("OutboundLink")],1),t._v(" 不会查找任何内容，它只会检查 "),a("code",[t._v("elem")]),t._v(" 是否与给定的 CSS 选择器匹配。它返回 "),a("code",[t._v("true")]),t._v(" 或 "),a("code",[t._v("false")]),t._v("。")]),t._v(" "),a("p",[t._v("当我们遍历元素（例如数组或其他内容）并试图过滤那些我们感兴趣的元素时，这个方法会很有用。")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://example.com/file.zip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://ya.ru"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("..."),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不一定是 document.body.children，还可以是任何集合")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" elem "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a[href$=\"zip\"]'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"The archive reference: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" elem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"closest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#closest"}},[t._v("#")]),t._v(" closest")]),t._v(" "),a("p",[t._v("元素的祖先（ancestor）是：父级，父级的父级，它的父级等。祖先们一起组成了从元素到顶端的父级链。")]),t._v(" "),a("p",[a("code",[t._v("elem.closest(css)")]),t._v(" 方法会查找与 CSS 选择器匹配的最近的祖先。"),a("code",[t._v("elem")]),t._v(" 自己也会被搜索。")]),t._v(" "),a("p",[t._v("换句话说，方法 "),a("code",[t._v("closest")]),t._v(" 在元素中得到了提升，并检查每个父级。如果它与选择器匹配，则停止搜索并返回该祖先。")]),t._v(" "),a("h2",{attrs:{id:"总结-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结-2"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("有 6 种主要的方法，可以在 DOM 中搜索元素节点：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("方法名")]),t._v(" "),a("th",[t._v("搜索方式")]),t._v(" "),a("th",[t._v("可以在元素上调用？")]),t._v(" "),a("th",[t._v("实时的？")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("querySelector")])]),t._v(" "),a("td",[t._v("CSS-selector")]),t._v(" "),a("td",[t._v("✔")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("querySelectorAll")])]),t._v(" "),a("td",[t._v("CSS-selector")]),t._v(" "),a("td",[t._v("✔")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("getElementById")])]),t._v(" "),a("td",[a("code",[t._v("id")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("getElementsByName")])]),t._v(" "),a("td",[a("code",[t._v("name")])]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("getElementsByTagName")])]),t._v(" "),a("td",[t._v("tag or "),a("code",[t._v("'*'")])]),t._v(" "),a("td",[t._v("✔")]),t._v(" "),a("td",[t._v("✔")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("getElementsByClassName")])]),t._v(" "),a("td",[t._v("class")]),t._v(" "),a("td",[t._v("✔")]),t._v(" "),a("td",[t._v("✔")])])])]),t._v(" "),a("p",[t._v("目前为止，最常用的是 "),a("code",[t._v("querySelector")]),t._v(" 和 "),a("code",[t._v("querySelectorAll")]),t._v("，但是 "),a("code",[t._v("getElement(s)By*")]),t._v(" 可能会偶尔有用，或者可以在旧脚本中找到。")]),t._v(" "),a("p",[t._v("此外：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("elem.matches(css)")]),t._v(" 用于检查 "),a("code",[t._v("elem")]),t._v(" 与给定的 CSS 选择器是否匹配。")]),t._v(" "),a("li",[a("code",[t._v("elem.closest(css)")]),t._v(" 用于查找与给定 CSS 选择器相匹配的最近的祖先。"),a("code",[t._v("elem")]),t._v(" 本身也会被检查。")])]),t._v(" "),a("p",[t._v("让我们在这里提一下另一种用来检查子级与父级之间关系的方法，因为它有时很有用：")]),t._v(" "),a("ul",[a("li",[t._v("如果 "),a("code",[t._v("elemB")]),t._v(" 在 "),a("code",[t._v("elemA")]),t._v(" 内（"),a("code",[t._v("elemA")]),t._v(" 的后代）或者 "),a("code",[t._v("elemA==elemB")]),t._v("，"),a("code",[t._v("elemA.contains(elemB)")]),t._v(" 将返回 true。")])]),t._v(" "),a("h1",{attrs:{id:"节点属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#节点属性"}},[t._v("#")]),t._v(" 节点属性")]),t._v(" "),a("p",[t._v("innerHTML给元素节点用的")]),t._v(" "),a("p",[t._v("nodeValue/data给文本节点用的，data更短，更常用")]),t._v(" "),a("h2",{attrs:{id:"dom节点类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dom节点类"}},[t._v("#")]),t._v(" DOM节点类")]),t._v(" "),a("p",[t._v("不同的DOM节点可能有不同的属性，例如a标签有href属性，input标签有value属性等。")]),t._v(" "),a("p",[t._v("文本节点和元素节点不同")]),t._v(" "),a("p",[t._v("这些标签对应的DOM节点也存在共有的属性和方法，所有的DOM节点都形成了一个单一层次结构")]),t._v(" "),a("p",[t._v("每个DOM节点都属于相应的内建类")]),t._v(" "),a("p",[t._v("层次结构的根节点是EventTarget，Node继承自它，其他DOM节点继承自Node")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220617112038316.png",alt:"image-20220617112038316"}})]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://dom.spec.whatwg.org/#eventtarget",target:"_blank",rel:"noopener noreferrer"}},[t._v("EventTarget"),a("OutboundLink")],1),t._v(" — 是根的“抽象（abstract）”类。该类的对象从未被创建。它作为一个基础，以便让所有 DOM 节点都支持所谓的“事件（event）”，我们会在之后学习它。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"http://dom.spec.whatwg.org/#interface-node",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node"),a("OutboundLink")],1),t._v(" — 也是一个“抽象”类，充当 DOM 节点的基础。它提供了树的核心功能："),a("code",[t._v("parentNode")]),t._v("，"),a("code",[t._v("nextSibling")]),t._v("，"),a("code",[t._v("childNodes")]),t._v(" 等（它们都是 getter）。"),a("code",[t._v("Node")]),t._v(" 类的对象从未被创建。但是有一些继承自它的具体的节点类，例如：文本节点的 "),a("code",[t._v("Text")]),t._v("，元素节点的 "),a("code",[t._v("Element")]),t._v("，以及更多异域（exotic）类，例如注释节点的 "),a("code",[t._v("Comment")]),t._v("。")])]),t._v(" "),a("li",[a("p",[a("a",{attrs:{href:"http://dom.spec.whatwg.org/#interface-element",target:"_blank",rel:"noopener noreferrer"}},[t._v("Element"),a("OutboundLink")],1),t._v(" — 是 DOM 元素的基本类。它提供了元素级的导航（navigation），例如 "),a("code",[t._v("nextElementSibling")]),t._v("，"),a("code",[t._v("children")]),t._v("，以及像 "),a("code",[t._v("getElementsByTagName")]),t._v(" 和 "),a("code",[t._v("querySelector")]),t._v(" 这样的搜索方法。浏览器中不仅有 HTML，还会有 XML 和 SVG。"),a("code",[t._v("Element")]),t._v(" 类充当更多特定类的基本类："),a("code",[t._v("SVGElement")]),t._v("，"),a("code",[t._v("XMLElement")]),t._v(" 和 "),a("code",[t._v("HTMLElement")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("HTMLElement")]),t._v(" "),a("p",[t._v("— 最终是所有 HTML 元素的基本类。各种 HTML 元素均继承自它：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://html.spec.whatwg.org/multipage/forms.html#htmlinputelement",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTMLInputElement"),a("OutboundLink")],1),t._v(" — "),a("code",[t._v("<input>")]),t._v(" 元素的类，")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://html.spec.whatwg.org/multipage/semantics.html#htmlbodyelement",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTMLBodyElement"),a("OutboundLink")],1),t._v(" — "),a("code",[t._v("<body>")]),t._v(" 元素的类，")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://html.spec.whatwg.org/multipage/semantics.html#htmlanchorelement",target:"_blank",rel:"noopener noreferrer"}},[t._v("HTMLAnchorElement"),a("OutboundLink")],1),t._v(" — "),a("code",[t._v("<a>")]),t._v(" 元素的类，")]),t._v(" "),a("li",[t._v("……等。")])])])]),t._v(" "),a("p",[t._v("因此，"),a("strong",[t._v("给定节点的全部属性和方法都是继承的结果")])]),t._v(" "),a("p",[t._v("例如，考虑下"),a("input"),t._v("元素的DOM对象， 它属于HTMLInputElement类")]),t._v(" "),a("p",[t._v("它获取属性和方法，并将其作为下列类的叠加")]),t._v(" "),a("ol",[a("li",[t._v("HTMLInputElement --提供特定于输入的属性")]),t._v(" "),a("li",[t._v("HTMLElement --提供通用的HTML元素方法")]),t._v(" "),a("li",[t._v("Element -- 提供通用的元素方法")]),t._v(" "),a("li",[t._v("Node -- 提供DOM节点属性")]),t._v(" "),a("li",[t._v("EventTarge --提供事件支持")]),t._v(" "),a("li",[t._v("...继承自Object，因为像hasOwnProperty这样的对象方法也是可用的")])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("console.dir(elem)")]),t._v(" 与 "),a("code",[t._v("console.log(elem)")])])]),t._v(" "),a("p",[t._v("大多数浏览器在其开发者工具中都支持这两个命令："),a("code",[t._v("console.log")]),t._v(" 和 "),a("code",[t._v("console.dir")]),t._v("。它们将它们的参数输出到控制台中。对于 JavaScript 对象，这些命令通常做的是相同的事。")]),t._v(" "),a("p",[t._v("但对于 DOM 元素，它们是不同的：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("console.log(elem)")]),t._v(" 显示元素的 DOM 树。")]),t._v(" "),a("li",[a("code",[t._v("console.dir(elem)")]),t._v(" 将元素显示为 DOM 对象，非常适合探索其属性。")])]),t._v(" "),a("p",[t._v("你可以在 "),a("code",[t._v("document.body")]),t._v(" 上尝试一下。")]),t._v(" "),a("h3",{attrs:{id:"获取节点类名"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取节点类名"}},[t._v("#")]),t._v(" 获取节点类名")]),t._v(" "),a("p",[t._v("我们可以通过回调来查看 DOM 节点类名，因为对象通常都具有 "),a("code",[t._v("constructor")]),t._v(" 属性。它引用类的 constructor，"),a("code",[t._v("constructor.name")]),t._v(" 就是它的名称：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// HTMLBodyElement")]),t._v("\n")])])]),a("p",[t._v("……或者我们可以对其使用 "),a("code",[t._v("toString")]),t._v(" 方法：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [object HTMLBodyElement]")]),t._v("\n")])])]),a("p",[t._v("我们还可以使用 "),a("code",[t._v("instanceof")]),t._v(" 来检查继承：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HTMLBodyElement")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HTMLElement")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Element")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventTarget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),a("h2",{attrs:{id:"nodename和tagname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodename和tagname"}},[t._v("#")]),t._v(" nodeName和tagName")]),t._v(" "),a("p",[t._v("给定一个 DOM 节点，我们可以从 "),a("code",[t._v("nodeName")]),t._v(" 或者 "),a("code",[t._v("tagName")]),t._v(" 属性中读取它的标签名：")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// BODY，总是大写的")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// BODY，总是大写的")]),t._v("\n")])])]),a("p",[t._v("tagName 和 nodeName 之间有什么不同吗？")]),t._v(" "),a("p",[t._v("当然，差异就体现在它们的名字上，但确实有些微妙。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("tagName")]),t._v(" 属性仅适用于 "),a("code",[t._v("Element")]),t._v(" 节点。")]),t._v(" "),a("li",[t._v("nodeName是为任意Node")])]),t._v(" "),a("p",[t._v("定义的：")]),t._v(" "),a("ul",[a("li",[t._v("对于元素，它的意义与 "),a("code",[t._v("tagName")]),t._v(" 相同。")]),t._v(" "),a("li",[t._v("对于其他节点类型（text，comment 等），它拥有一个对应节点类型的字符串。")])]),t._v(" "),a("p",[t._v("换句话说，"),a("code",[t._v("tagName")]),t._v(" 仅受元素节点支持（因为它起源于 "),a("code",[t._v("Element")]),t._v(" 类），而 "),a("code",[t._v("nodeName")]),t._v(" 则可以说明其他节点类型。")]),t._v(" "),a("p",[t._v("例如，我们比较一下 "),a("code",[t._v("document")]),t._v(" 的 "),a("code",[t._v("tagName")]),t._v(" 和 "),a("code",[t._v("nodeName")]),t._v("，以及一个注释节点：")]),t._v(" "),a("div",{staticClass:"language-markup extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markup"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- comment --\x3e")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// for comment")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined（不是一个元素）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #comment")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// for document")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined（不是一个元素）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #document")]),t._v("\n  ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("如果我们只处理元素，那么 "),a("code",[t._v("tagName")]),t._v(" 和 "),a("code",[t._v("nodeName")]),t._v(" 这两种方法，我们都可以使用，没有区别。")]),t._v(" "),a("h2",{attrs:{id:"innerhtml内容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#innerhtml内容"}},[t._v("#")]),t._v(" innerHTML内容")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://w3c.github.io/DOM-Parsing/#the-innerhtml-mixin",target:"_blank",rel:"noopener noreferrer"}},[t._v("innerHTML"),a("OutboundLink")],1),t._v(" 属性允许将元素中的 HTML 获取为字符串形式。")]),t._v(" "),a("p",[t._v("我们也可以修改它。因此，它是更改页面最有效的方法之一。")]),t._v(" "),a("p",[t._v("下面这个示例显示了 "),a("code",[t._v("document.body")]),t._v(" 中的内容，然后将其完全替换：")]),t._v(" "),a("p",[t._v("我们可以尝试插入无效的 HTML，浏览器会修复我们的错误：")]),t._v(" "),a("div",{staticClass:"language-markup extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markup"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<b>test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 忘记闭合标签")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <b>test</b>（被修复了）")]),t._v("\n  ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("**小心：innerHTML += 'xxx'**会完全重写")]),t._v(" "),a("h2",{attrs:{id:"nodevalue-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodevalue-data"}},[t._v("#")]),t._v(" nodeValue/data")]),t._v(" "),a("p",[t._v("innerHTML仅对元素节点生效")]),t._v(" "),a("p",[t._v("其他类型，如文本节点，注释节点，具有它们的对应项，nodeValue和data，它们几乎相同，推荐使用data，它更短")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  Hello\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Comment --\x3e")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" text "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstChild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Hello")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" comment "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextSibling"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("comment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Comment")]),t._v("\n  ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])]),a("h2",{attrs:{id:"textcontent-纯文本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#textcontent-纯文本"}},[t._v("#")]),t._v(" textContent：纯文本")]),t._v(" "),a("p",[t._v("textContent提供了对元素内的 "),a("strong",[t._v("文本")]),t._v(" 的访问权限，仅文本")]),t._v(" "),a("p",[a("strong",[t._v("写入textContent要有用的多，因为它允许安全的写入文本")])]),t._v(" "),a("p",[t._v("假设我们有一个用户输入的任意字符串，我们希望将其显示出来。")]),t._v(" "),a("ul",[a("li",[t._v("使用 "),a("code",[t._v("innerHTML")]),t._v("，我们将其“作为 HTML”插入，带有所有 HTML 标签。")]),t._v(" "),a("li",[t._v("使用 "),a("code",[t._v("textContent")]),t._v("，我们将其“作为文本”插入，所有符号（symbol）均按字面意义处理。")])]),t._v(" "),a("p",[t._v("比较两者：")]),t._v(" "),a("div",{staticClass:"language-markup extra-class"},[a("pre",{pre:!0,attrs:{class:"language-markup"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("elem1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("elem2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("prompt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"What\'s your name?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<b>Winnie-the-Pooh!</b>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  elem1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  elem2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("ol",[a("li",[t._v("第一个 "),a("code",[t._v("<div>")]),t._v(" 获取 name “作为 HTML”：所有标签都变成标签，所以我们可以看到粗体的 name。")]),t._v(" "),a("li",[t._v("第二个 "),a("code",[t._v("<div>")]),t._v(" 获取 name “作为文本”，因此我们可以从字面上看到 "),a("code",[t._v("<b>Winnie-the-Pooh!</b>")]),t._v("。")])]),t._v(" "),a("p",[t._v("在大多数情况下，我们期望来自用户的文本，并希望将其视为文本对待。我们不希望在我们的网站中出现意料不到的 HTML。对 "),a("code",[t._v("textContent")]),t._v(" 的赋值正好可以做到这一点。")]),t._v(" "),a("h1",{attrs:{id:"元素大小和滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素大小和滚动"}},[t._v("#")]),t._v(" 元素大小和滚动")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  ...Text...\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#example")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 300px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  // content width box-sizing为cotent-box下\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" // content height\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 25px solid #E8C48F"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("overflow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("它有边框（border），内边距（padding）和滚动（scrolling）等全套功能。但没有外边距（margin），因为它们不是元素本身的一部分，并且它们没什么特殊的属性。")]),t._v(" "),a("p",[t._v("这个元素看起来就像这样：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220617143514143.png",alt:"image-20220617143514143"}})]),t._v(" "),a("p",[a("strong",[t._v("注意滚动条")])]),t._v(" "),a("p",[t._v("上图演示了元素具有滚动条这种最复杂的情况。一些浏览器（并非全部）通过从内容（上面标记为 “content width”）中获取空间来为滚动条保留空间。")]),t._v(" "),a("p",[t._v("因此，如果没有滚动条，内容宽度将是 "),a("code",[t._v("300 px")]),t._v("，但是如果滚动条宽度是 "),a("code",[t._v("16px")]),t._v("（不同的设备和浏览器，滚动条的宽度可能有所不同），那么还剩下 "),a("code",[t._v("300 - 16 ＝ 284px")]),t._v("，我们应该考虑到这一点。这就是为什么本章的例子总是假设有滚动条。如果没有滚动条，一些计算会更简单。")]),t._v(" "),a("h2",{attrs:{id:"几何"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#几何"}},[t._v("#")]),t._v(" 几何")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220617144409557.png",alt:"image-20220617144409557"}})]),t._v(" "),a("h2",{attrs:{id:"总结-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结-3"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("元素具有以下几何属性：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("offsetParent")]),t._v(" — 是最接近的 CSS 定位的祖先，或者是 "),a("code",[t._v("td")]),t._v("，"),a("code",[t._v("th")]),t._v("，"),a("code",[t._v("table")]),t._v("，"),a("code",[t._v("body")]),t._v("。")]),t._v(" "),a("li",[a("code",[t._v("offsetLeft/offsetTop")]),t._v(" — 是相对于 "),a("code",[t._v("offsetParent")]),t._v(" 的左上角边缘的坐标。")]),t._v(" "),a("li",[a("code",[t._v("offsetWidth/offsetHeight")]),t._v(" — 元素的“外部” width/height，边框（border）尺寸计算在内。")]),t._v(" "),a("li",[a("code",[t._v("clientLeft/clientTop")]),t._v(" — 从元素左上角外角到左上角内角的距离。对于从左到右显示内容的操作系统来说，它们始终是左侧/顶部 border 的宽度。而对于从右到左显示内容的操作系统来说，垂直滚动条在左边，所以 "),a("code",[t._v("clientLeft")]),t._v(" 也包括滚动条的宽度。")]),t._v(" "),a("li",[a("code",[t._v("clientWidth/clientHeight")]),t._v(" — 内容的 width/height，包括 padding，但不包括滚动条（scrollbar）。")]),t._v(" "),a("li",[a("code",[t._v("scrollWidth/scrollHeight")]),t._v(" — 内容的 width/height，就像 "),a("code",[t._v("clientWidth/clientHeight")]),t._v(" 一样，但还包括元素的滚动出的不可见的部分。")]),t._v(" "),a("li",[a("code",[t._v("scrollLeft/scrollTop")]),t._v(" — 从元素的左上角开始，滚动出元素的上半部分的 width/height。")])]),t._v(" "),a("p",[t._v("除了 "),a("code",[t._v("scrollLeft/scrollTop")]),t._v(" 外，所有属性都是只读的。如果我们修改 "),a("code",[t._v("scrollLeft/scrollTop")]),t._v("，浏览器会滚动对应的元素。")]),t._v(" "),a("h1",{attrs:{id:"window大小和滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window大小和滚动"}},[t._v("#")]),t._v(" Window大小和滚动")]),t._v(" "),a("h2",{attrs:{id:"窗口的宽高"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#窗口的宽高"}},[t._v("#")]),t._v(" 窗口的宽高")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220617145804009.png",alt:"image-20220617145804009"}})]),t._v(" "),a("h2",{attrs:{id:"文档的宽高"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档的宽高"}},[t._v("#")]),t._v(" 文档的宽高")]),t._v(" "),a("p",[t._v("从理论上讲，由于根文档元素是 "),a("code",[t._v("document.documentElement")]),t._v("，并且它包围了所有内容，因此我们可以通过使用 "),a("code",[t._v("documentElement.scrollWidth/scrollHeight")]),t._v(" 来测量文档的完整大小。")]),t._v(" "),a("p",[t._v("但是在该元素上，对于整个文档，这些属性均无法正常工作。在 Chrome/Safari/Opera 中，如果没有滚动条，"),a("code",[t._v("documentElement.scrollHeight")]),t._v(" 甚至可能小于 "),a("code",[t._v("documentElement.clientHeight")]),t._v("！很奇怪，对吧？")]),t._v(" "),a("p",[t._v("为了可靠地获得完整的文档高度，我们应该采用以下这些属性的最大值：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" scrollHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Full document height, with scrolled out part: '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" scrollHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"窗口的滚动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#窗口的滚动"}},[t._v("#")]),t._v(" 窗口的滚动")]),t._v(" "),a("p",[t._v("DOM 元素的当前滚动状态在其 "),a("code",[t._v("scrollLeft/scrollTop")]),t._v(" 属性中。")]),t._v(" "),a("p",[t._v("对于文档滚动，在大多数浏览器中，我们可以使用 "),a("code",[t._v("document.documentElement.scrollLeft/scrollTop")]),t._v("，但在较旧的基于 WebKit 的浏览器中则不行，例如在 Safari（bug "),a("a",{attrs:{href:"https://bugs.webkit.org/show_bug.cgi?id=5991",target:"_blank",rel:"noopener noreferrer"}},[t._v("5991"),a("OutboundLink")],1),t._v("）中，我们应该使用 "),a("code",[t._v("document.body")]),t._v(" 而不是 "),a("code",[t._v("document.documentElement")]),t._v("。")]),t._v(" "),a("p",[t._v("幸运的是，我们根本不必记住这些特性，因为我们可以从 "),a("code",[t._v("window.pageXOffset/pageYOffset")]),t._v(" 中获取页面当前滚动信息：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'当前已从顶部滚动：'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageYOffset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'当前已从左侧滚动：'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageXOffset"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("这些属性是只读的。")]),t._v(" "),a("p",[a("strong",[t._v("我们也可以从 "),a("code",[t._v("window")]),t._v(" 的 "),a("code",[t._v("scrollX")]),t._v(" 和 "),a("code",[t._v("scrollY")]),t._v(" 属性中获取滚动信息")])]),t._v(" "),a("p",[t._v("由于历史原因，存在了这两种属性，但它们是一样的：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("window.pageXOffset")]),t._v(" 是 "),a("code",[t._v("window.scrollX")]),t._v(" 的别名。")]),t._v(" "),a("li",[a("code",[t._v("window.pageYOffset")]),t._v(" 是 "),a("code",[t._v("window.scrollY")]),t._v(" 的别名。")])]),t._v(" "),a("h2",{attrs:{id:"总结-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结-4"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("几何：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("文档可见部分的 width/height（内容区域的 width/height）："),a("code",[t._v("document.documentElement.clientWidth/clientHeight")])])]),t._v(" "),a("li",[a("p",[t._v("整个文档的 width/height，其中包括滚动出去的部分：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" scrollHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("max")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offsetHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientHeight\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),a("p",[t._v("滚动：")]),t._v(" "),a("ul",[a("li",[t._v("读取当前的滚动："),a("code",[t._v("window.pageYOffset/pageXOffset")]),t._v("。")]),t._v(" "),a("li",[t._v("更改当前的滚动：\n"),a("ul",[a("li",[a("code",[t._v("window.scrollTo(pageX,pageY)")]),t._v(" — 绝对坐标，")]),t._v(" "),a("li",[a("code",[t._v("window.scrollBy(x,y)")]),t._v(" — 相对当前位置进行滚动，")]),t._v(" "),a("li",[a("code",[t._v("elem.scrollIntoView(top)")]),t._v(" — 滚动以使 "),a("code",[t._v("elem")]),t._v(" 可见（"),a("code",[t._v("elem")]),t._v(" 与窗口的顶部/底部对齐）。")])])])]),t._v(" "),a("h1",{attrs:{id:"坐标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#坐标"}},[t._v("#")]),t._v(" 坐标")]),t._v(" "),a("p",[a("strong",[t._v("相对于窗口")]),t._v(" — 类似于 "),a("code",[t._v("position:fixed")]),t._v("，从窗口的顶部/左侧边缘计算得出。")]),t._v(" "),a("p",[a("strong",[t._v("相对于文档")]),t._v(" — 与文档根（document root）中的 "),a("code",[t._v("position:absolute")]),t._v(" 类似，从文档的顶部/左侧边缘计算得出")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220617144839223.png",alt:"image-20220617144839223"}})]),t._v(" "),a("p",[t._v("当文档滚动了：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("pageY")]),t._v(" — 元素在文档中的相对坐标保持不变，从文档顶部（现在已滚动出去）开始计算。")]),t._v(" "),a("li",[a("code",[t._v("clientY")]),t._v(" — 窗口相对坐标确实发生了变化（箭头变短了），因为同一个点越来越靠近窗口顶部。")])]),t._v(" "),a("h2",{attrs:{id:"元素坐标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素坐标"}},[t._v("#")]),t._v(" 元素坐标")]),t._v(" "),a("p",[t._v("方法 "),a("code",[t._v("elem.getBoundingClientRect()")]),t._v(" 返回最小矩形的窗口坐标，该矩形将 "),a("code",[t._v("elem")]),t._v(" 作为内建 "),a("a",{attrs:{href:"https://www.w3.org/TR/geometry-1/#domrect",target:"_blank",rel:"noopener noreferrer"}},[t._v("DOMRect"),a("OutboundLink")],1),t._v(" 类的对象。")]),t._v(" "),a("p",[t._v("主要的 "),a("code",[t._v("DOMRect")]),t._v(" 属性：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("x/y")]),t._v(" — 矩形原点相对于窗口的 X/Y 坐标，")]),t._v(" "),a("li",[a("code",[t._v("width/height")]),t._v(" — 矩形的 width/height（可以为负）。")])]),t._v(" "),a("p",[t._v("此外，还有派生（derived）属性：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("top/bottom")]),t._v(" — 顶部/底部矩形边缘的 Y 坐标，")]),t._v(" "),a("li",[a("code",[t._v("left/right")]),t._v(" — 左/右矩形边缘的 X 坐标。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://lwq-img-1312073911.cos.ap-nanjing.myqcloud.com/img/imgimage-20220617145044034.png",alt:"image-20220617145044034"}})]),t._v(" "),a("h2",{attrs:{id:"文档坐标pagex-y"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档坐标pagex-y"}},[t._v("#")]),t._v(" 文档坐标PageX/Y")]),t._v(" "),a("p",[t._v("文档相对坐标从文档的左上角开始计算，而不是窗口。")]),t._v(" "),a("p",[t._v("在 CSS 中，窗口坐标对应于 "),a("code",[t._v("position:fixed")]),t._v("，而文档坐标与顶部的 "),a("code",[t._v("position:absolute")]),t._v(" 类似。")]),t._v(" "),a("p",[t._v("我们可以使用 "),a("code",[t._v("position:absolute")]),t._v(" 和 "),a("code",[t._v("top/left")]),t._v(" 来把某些内容放到文档中的某个位置，以便在页面滚动时，元素仍能保留在该位置。但是我们首先需要正确的坐标。")]),t._v(" "),a("p",[t._v("这里没有标准方法来获取元素的文档坐标。但是写起来很容易。")]),t._v(" "),a("p",[t._v("这两个坐标系统通过以下公式相连接：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("pageY")]),t._v(" = "),a("code",[t._v("clientY")]),t._v(" + 文档的垂直滚动出的部分的高度。")]),t._v(" "),a("li",[a("code",[t._v("pageX")]),t._v(" = "),a("code",[t._v("clientX")]),t._v(" + 文档的水平滚动出的部分的宽度。")])]),t._v(" "),a("h2",{attrs:{id:"总结-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结-5"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("页面上的任何点都有坐标：")]),t._v(" "),a("ol",[a("li",[t._v("相对于窗口的坐标 — "),a("code",[t._v("elem.getBoundingClientRect()")]),t._v("。")]),t._v(" "),a("li",[t._v("相对于文档的坐标 — "),a("code",[t._v("elem.getBoundingClientRect()")]),t._v(" 加上当前页面滚动。")])]),t._v(" "),a("p",[t._v("窗口坐标非常适合和 "),a("code",[t._v("position:fixed")]),t._v(" 一起使用，文档坐标非常适合和 "),a("code",[t._v("position:absolute")]),t._v(" 一起使用。")])])}),[],!1,null,null,null);a.default=e.exports}}]);